!function t(e,r,n){function s(o,a){if(!r[o]){if(!e[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var h=r[o]={exports:{}};e[o][0].call(h.exports,(function(t){return s(e[o][1][t]||t)}),h,h.exports,t,e,r,n)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(t,e,r){const n=t("../libs/sys/JavaLibraryScriptCore");class s extends n{constructor(t,e,r=t,n=null,s={}){super(),this.name=t,this.ordinal=e,this.value=r,this.owner=n;for(const[t,e]of Object.entries(s))"function"==typeof e&&(this[t]=e.bind(this));Object.freeze(this)}toString(){return this.name}toJSON(){return this.name}compareTo(t){return this.ordinal-t.ordinal}equals(t){return t instanceof s&&this.name===t.name&&this.ordinal===t.ordinal&&this.value===t.value}hashCode(){return this.name.split("").reduce(((t,e)=>t+e.charCodeAt(0)),0)+31*this.ordinal}}class i extends n{constructor(t,e={}){let r;if(super(),this._items=[],this._methods=e.methods||{},Array.isArray(t))r=t.map((t=>Array.isArray(t)?t:[t,t]));else{if("object"!=typeof t||null===t)throw new TypeError("Enum: 配列か連想配列で定義してください");r=Object.entries(t)}r.forEach((([t,e],r)=>{const n=new s(t,r,e,this,this._methods);Object.defineProperty(this,t,{value:n,writable:!1,configurable:!1,enumerable:!0}),this._items.push(n)})),Object.freeze(this._items)}values(){return this._items.slice()}valueOf(t){return this[t]}fromName=valueOf;fromValue(t){return this._items.find((e=>e.value===t))}fromOrdinal(t){return this._items.find((e=>e.ordinal===t))}has(t){return"object"==typeof this[t]&&this[t]instanceof s}entries(){return this._items.map((t=>[t.name,t]))}keys(){return this._items.map((t=>t.name))}toMap(){const t={};for(const e of this._items)t[e.name]=e.value;return t}toJSON(){return this._items.map((t=>t.toJSON()))}*[Symbol.iterator](){yield*this._items}*enumerate(){for(let t=0;t<this._items.length;t++)yield[t,this._items[t]]}}e.exports={_EnumItem:s,_EnumCore:i,Enum:function(t,e={}){const r=new i(t,e);return new Proxy(r,{get(t,e,r){if("string"==typeof e&&/^[0-9]+$/.test(e)){const r=Number(e);return t._items[r]}return Reflect.get(t,e,r)},enumerate:t=>Object.keys(t._items).map((t=>t.toString())),has(t,e){if("string"==typeof e&&/^[0-9]+$/.test(e)){const r=Number(e);return r>=0&&r<t._items.length}return e in t},ownKeys:t=>[...Reflect.ownKeys(t),...t._items.map(((t,e)=>e.toString()))],getOwnPropertyDescriptor:(t,e)=>"string"==typeof e&&/^[0-9]+$/.test(e)?e in t._items?{value:t._items[Number(e)],writable:!1,configurable:!1,enumerable:!0}:void 0:Object.getOwnPropertyDescriptor(t,e),set(t,e,r){throw new TypeError(`Enumは変更できません: ${String(e)} = ${r}`)},defineProperty(t,e,r){throw new TypeError(`Enumにプロパティを追加/変更できません: ${String(e)}`)},deleteProperty(t,e){throw new TypeError(`Enumのプロパティを削除できません: ${String(e)}`)}})}}},{"../libs/sys/JavaLibraryScriptCore":9}],2:[function(t,e,r){const n=t("../libs/sys/JavaLibraryScriptCore"),{logging:s}=t("../libs/sys/Logger"),i=t("../libs/TypeChecker"),{_EnumItem:o,Enum:a}=t("./Enum");class c extends n{static isDebugMode=!1;static ErrorMode=a(["throw","log","ignore"]);static _errorMode=this.ErrorMode.throw;static setErrorMode(t){if(!this.ErrorMode.has(t))throw new Error(`不正な errorMode: ${t}`);this._errorMode=t}static _handleError(t,e){const r=this.ErrorMode;switch(this._errorMode){case r.throw:throw new t(e);case r.log:s.warn("[Interface Warning]",e);case r.ignore:}}static applyTo(t,e={},{inherit:r=!0}={}){const n=t.prototype;let s={};if(r){const t=Object.getPrototypeOf(n);t&&t.__interfaceTypes&&(s={...t.__interfaceTypes})}n.__interfaceTypes||Object.defineProperty(n,"__interfaceTypes",{value:{},configurable:!1,writable:!1,enumerable:!1}),Object.assign(n.__interfaceTypes,s,e)}static convert(t,e={},{inherit:r=!0,abstract:n=!0}={}){this.applyTo(t,e,{inherit:r});const s=this,o=class extends t{constructor(...e){if(n&&new.target===o&&new TypeError(`Cannot instantiate abstract class ${t.name}`),super(...e),!c.isDebugMode)return;const r=Object.getPrototypeOf(this).__interfaceTypes||{};for(const t of Object.keys(r)){const e=r[t],n=this[t],o=!!e.abstract;if("function"!=typeof n){if(o)continue;return void s._handleError(Error,`"${this.constructor.name}" はメソッド "${t}" を実装する必要があります`)}if(!n.__isWrapped){const r=(...r)=>{const o=e.args||[];for(let e=0;e<o.length;e++)i.matchType(r[e],o[e])||s._handleError(TypeError,`"${this.constructor.name}.${t}" 第${e+1}引数: ${i.typeNames(o[e])} を期待 → 実際: ${i.stringify(r[e])}`);const a=n.apply(this,r),c=i.checkFunction(e.returns)?e.returns(r):e.returns,u=e=>(i.matchType(e,c)||(c===i.NoReturn?s._handleError(TypeError,`"${this.constructor.name}.${t}" は戻り値を返してはいけません → 実際: ${i.stringify(e)}`):s._handleError(TypeError,`"${this.constructor.name}.${t}" の戻り値: ${i.typeNames(c)} を期待 → 実際: ${i.stringify(e)}`)),e);return a instanceof Promise?a.then(u):u(a)};r.__isWrapped=!0,this[t]=r}}}};return Object.defineProperty(o,"name",{value:t.name}),o}static isAbstractImplemented(t){const e=Object.getPrototypeOf(t).__interfaceTypes||{};for(const[r,n]of Object.entries(e))if(n.abstract&&"function"!=typeof t[r])return!1;return!0}static getDefinition(t){return("function"==typeof t?t.prototype:Object.getPrototypeOf(t)).__interfaceTypes||{}}static describe(t){const e=this.getDefinition(t),r=[];for(const[t,n]of Object.entries(e)){const e=(n.args||[]).map((t=>i.typeNames(t))).join(", "),s=i.typeNames(n.returns);r.push(`${n.abstract?"abstract ":""}function ${t}(${e}) → ${s}`)}return r.join("\n")}static getMethodNames(t,{abstractOnly:e=!1}={}){const r=this.getDefinition(t);return Object.entries(r).filter((([t,r])=>!e||r.abstract)).map((([t])=>t))}static getExpectedSignature(t,e){const r=this.getDefinition(t);return e in r?{args:r[e].args,returns:r[e].returns,abstract:!!r[e].abstract}:null}static merge(...t){const e={};for(const r of t)Object.assign(e,r);return e}}e.exports=c},{"../libs/TypeChecker":7,"../libs/sys/JavaLibraryScriptCore":9,"../libs/sys/Logger":10,"./Enum":1}],3:[function(t,e,r){e.exports={...t("./Enum.js"),Interface:t("./Interface.js")}},{"./Enum.js":1,"./Interface.js":2}],4:[function(t,e,r){e.exports={base:t("./base/index.js"),libs:t("./libs/index.js"),math:t("./math/index.js"),util:t("./util/index.js")}},{"./base/index.js":3,"./libs/index.js":8,"./math/index.js":16,"./util/index.js":23}],5:[function(t,e,r){const n=t("./sys/symbol/SymbolDict"),s=t("./sys/JavaLibraryScriptCore"),i=t("./ProxyManager"),o=t("./TypeChecker"),a=n.instanceofTarget;e.exports=class extends s{constructor(t,{getMethod:e="get",setMethod:r="set",sizeMethod:n="size",addMethod:s="add",typeCheckMethod:i=null,autoExtend:o=!0}={}){super(),this._TargetClass=t,this._config={getMethod:e,setMethod:r,sizeMethod:n,addMethod:s,typeCheckMethod:i,autoExtend:o},this._cachedMethods={get:null,set:null,size:null,add:null,typeCheck:null}}create(...t){const e=new this._TargetClass(...t),r=o.typeNames(this._TargetClass),n=this._config,s=this._cachedMethods;if("function"!=typeof e[n.getMethod])throw new TypeError(`${r}.${n.getMethod}(index) メソッドが必要です。`);if("function"!=typeof e[n.setMethod])throw new TypeError(`${r}.${n.setMethod}(index, value) メソッドが必要です。`);s.get=e[n.getMethod].bind(e),s.set=e[n.setMethod].bind(e);const a=e[n.sizeMethod];if("function"==typeof a)s.size=a.bind(e);else{if("number"!=typeof a)throw new TypeError(`${r}.${n.sizeMethod}() メソッドまたは、${r}.${n.sizeMethod} getterが必要です。`);s.size=()=>e[n.sizeMethod]}if("function"==typeof e[n.addMethod])s.add=e[n.addMethod].bind(e);else if(this._config.autoExtend)throw new TypeError(`${this._TargetClass}.${n.addMethod}(item) メソッドが必要です。範囲外追加を許容しない場合はautoExtendをfalseにしてください。`);return"function"==typeof e[n.typeCheckMethod]&&(s.typeCheck=e[n.typeCheckMethod].bind(e)),new Proxy(e,{get:(t,e,r)=>isNaN(e)?i.over_get(t,e,r):s.get(Number(e)),set:(t,e,r,n)=>{if(!isNaN(e)){const t=Number(e);s.typeCheck&&s.typeCheck(r);const n=s.size();if(t<n)s.set(t,r);else{if(t!==n||!this._config.autoExtend)throw new RangeError(`インデックス ${t} は無効です（サイズ: ${n}）`);s.add(r)}return!0}return Reflect.set(t,e,r,n)},has:(t,e)=>{if(!isNaN(e)){const t=Number(e),r=s.size();return t>=0&&t<r}return e in t}})}static defineInitData(t){Object.defineProperty(t,a,{value:t,enumerable:!1,writable:!1})}static hasInstance(t,e){const r=e?.[a];return"object"==typeof r&&null!==r&&t.prototype.isPrototypeOf(r)}}},{"./ProxyManager":6,"./TypeChecker":7,"./sys/JavaLibraryScriptCore":9,"./sys/symbol/SymbolDict":12}],6:[function(t,e,r){const n=t("./sys/JavaLibraryScriptCore");e.exports=class extends n{static over_get(t,e,r){return"toString"===e?()=>`Proxy(${t.toString()})`:Reflect.get(t,e,r)}}},{"./sys/JavaLibraryScriptCore":9}],7:[function(t,e,r){const n=t("../libs/sys/symbol/SymbolDict"),s=t("../libs/sys/JavaLibraryScriptCore"),{_EnumCore:i,_EnumItem:o}=t("../base/Enum");class a extends s{static _CLASS_REG=/^\s*class\s+/;static _NotType=class extends s{constructor(t){if(super(),t instanceof a._NotType)throw new TypeError("typeToExclude must be instance of NotType");this.typeToExclude=t}};static NotType(t){return new a._NotType(t)}static Any=n.TypeAny;static Void=n.TypeVoid;static NoReturn=this.Void;static NotNull=this.NotType(null);static NotUndefined=this.NotType(void 0);static matchType(t,e){if(Array.isArray(e)){if(e.filter((t=>t instanceof this._NotType)).some((e=>this.checkType(t,e.typeToExclude))))return!1;const r=e.filter((t=>!(t instanceof this._NotType)));return 0===r.length||r.some((e=>this.checkType(t,e)))}return this.checkType(t,e)}static checkType(t,e){return e instanceof this._NotType?!this.checkType(t,e.typeToExclude):e===this.Any||(e===this.NoReturn?void 0===t:null===e?null===t:void 0===e?void 0===t:e===String||e===Number||e===Boolean||e===Symbol||e===Function||e===BigInt?typeof t===e.name.toLowerCase():e===Object?"object"==typeof t&&null!==t&&!Array.isArray(t):e===Array?Array.isArray(t):e instanceof i?e.has(t?.name):e===o?t instanceof o:"function"==typeof e&&t instanceof e)}static getType(t){if(null===t)return null;if(void 0===t)return;const e=typeof t;switch(e){case"string":return String;case"number":return Number;case"boolean":return Boolean;case"symbol":return Symbol;case"function":return Function;case"bigint":return BigInt;case"object":return Array.isArray(t)?Array:t.constructor}throw new TypeError(`TypeChecker: getType()に対応していない型:${e}`)}static typeNames(t){return Array.isArray(t)?t.map((t=>t?.name||a.stringify(t))).join(" | "):t?.name||a.stringify(t)}static stringify(t){if(null==t)return String(t);if("symbol"==typeof t)switch(t){case this.Any:return"Any";case this.NoReturn:case this.Void:return"NoReturn"}if("object"==typeof t){if("[object Object]"!==t?.toString())return String(t);if(t instanceof this._NotType)return`NotType(${a.stringify(t.typeToExclude)})`;try{const e=JSON.stringify(t,((t,e)=>{if(e&&"object"==typeof e){const t=Object.keys(e).length;if(t>5)return`Object with ${t} properties`}return e}),0);return void 0===e?"Object is too large to display or contains circular references":e.length>1e3?"Object is too large to display":e}catch(t){return`[オブジェクト表示エラー: ${t.message}]`}}return String(t)}static checkFunction(t){return"function"==typeof t&&!this.checkClass(t)}static checkClass(t){if("function"!=typeof t)return!1;if(this._CLASS_REG.test(t.toString()))return!0;if(t===Function)return!0;try{return new new Proxy(t,{construct:()=>({})}),!0}catch{return!1}}}e.exports=a},{"../base/Enum":1,"../libs/sys/JavaLibraryScriptCore":9,"../libs/sys/symbol/SymbolDict":12}],8:[function(t,e,r){e.exports={IndexProxy:t("./IndexProxy.js"),ProxyManager:t("./ProxyManager.js"),TypeChecker:t("./TypeChecker.js"),sys:t("./sys/index.js")}},{"./IndexProxy.js":5,"./ProxyManager.js":6,"./TypeChecker.js":7,"./sys/index.js":11}],9:[function(t,e,r){const n=t("./symbol/SymbolDict");class s{static[n.JavaLibraryScript]=!0}e.exports=s},{"./symbol/SymbolDict":12}],10:[function(t,e,r){const n=t("./symbol/SymbolDict"),s=t("./JavaLibraryScriptCore");class i extends s{static ENABLE_CONSOLE_STYLE=this._isEnableCustomConsole();static ENABLE_SIMPLE_LOG=!0;static ENABLE_STACK_TRACE=!0;static DEFAULT_HR_SIZE=40;static LOG_LEVEL={DEBUG:0,TIME:1,LOG:3,WARN:5,ERROR:7,INFO:9,IGNORE:11};static CONSOLE_STYLE={DEBUG_TITLE:"color: gray;font-weight: normal;",DEBUG:"color: gray;",LOG_TITLE:"color: teal;font-weight: normal;",LOG:"color: teal;",WARN_TITLE:"background-color: #fef6d5;font-weight: normal;",WARN:"",ERROR_TITLE:"background-color: #fcebeb;font-weight: normal;",ERROR:"",INFO_TITLE:"color: blue;font-weight: normal;",INFO:"font-family: serif;",STACK_TRACE:"font-size: 0.8em;color: darkblue;"};static STACK_TRACE_GET_REG=/at (?:.+? )?\(?(.+):(\d+):(?:\d+)\)?/;constructor(t="",e=i.LOG_LEVEL.WARN){super(),this._prefix=t,this._visibleLevel=e}setPrefix(t){this._prefix=t}getPrefix(){return this._prefix}setVisibleLevel(t){this._visibleLevel=t}getVisibleLevel(){return this._visibleLevel}static _isEnableCustomConsole(){const t=navigator?.userAgent?.toLowerCase();return!!t&&/(chrome|firefox|safari)/.test(t)}_isVisible(t){return t>=this._visibleLevel}_generatePrefix(){return this._prefix?`[${this._prefix}] `:""}_getLevelToString(t){const e=this.constructor.LOG_LEVEL;switch(t){case e.DEBUG:return"DEBUG";case e.LOG:return"LOG";case e.WARN:return"WARN";case e.ERROR:return"ERROR";case e.INFO:return"INFO";default:return!1}}_getTopStackTrace(){const t=(new Error).stack.split("\n"),e=this.constructor,r=e.name,s=n.LIBRARY_NAME,i=new RegExp(`(?:^|\\W)(?:${r}|${s})\\.`);let o="";for(let e=1;e<t.length;e++){const r=t[e];if(!i.test(r)){o=r.trim();break}}const a=o.match(e.STACK_TRACE_GET_REG);let c="";if(a){const t=a[1],e=a[2];c=`${t.split(/[\\/]/).slice(-1).join("/")}:${e}`}return c}_levelToPrint(t,e){if(!this._isVisible(t))return!0;const r=this._getLevelToString(t);if(!r)return!1;const n=this.constructor;let s,i="";const o=n.LOG_LEVEL;switch(t){case o.DEBUG:case o.LOG:s=function(){}.bind();break;case o.WARN:s=function(){}.bind(),i="⚠️";break;case o.ERROR:s=function(){}.bind(),i="🛑";break;case o.INFO:s=function(){}.bind(),i="ℹ️";break;default:s=function(){}.bind()}const a=e.map((t=>"string"==typeof t?"%s":"%o")).join(" "),c=n.CONSOLE_STYLE;let u="";if(n.ENABLE_STACK_TRACE&&(u=this._getTopStackTrace()),n.ENABLE_SIMPLE_LOG){let t="";return u&&(t=`[${u}]\n`),n.ENABLE_CONSOLE_STYLE?s(`%c%s%c${this._generatePrefix()}${a}`,c.STACK_TRACE,t,c[r],...e):s(`%s${a}`,t,...e),!0}return n.ENABLE_CONSOLE_STYLE,u&&n.ENABLE_CONSOLE_STYLE,n.ENABLE_CONSOLE_STYLE?s(`%c${a}`,c[r],...e):s(`${a}`,...e),!0}debug(...t){const e=this.constructor.LOG_LEVEL.DEBUG;this._levelToPrint(e,t)}log(...t){const e=this.constructor.LOG_LEVEL.LOG;this._levelToPrint(e,t)}warning(...t){const e=this.constructor.LOG_LEVEL.WARN;this._levelToPrint(e,t)}warn(...t){this.warning(...t)}error(...t){const e=this.constructor.LOG_LEVEL.ERROR;this._levelToPrint(e,t)}err(...t){this.error(...t)}information(...t){const e=this.constructor.LOG_LEVEL.INFO;this._levelToPrint(e,t)}info(...t){this.information(...t)}time(t){const e=this.constructor.LOG_LEVEL.TIME;return this._isVisible(e)&&this._generatePrefix(),t}timeEnd(t){const e=this.constructor.LOG_LEVEL.TIME;this._isVisible(e)}hr(t){const e=t||this.constructor.DEFAULT_HR_SIZE;"".padEnd(e,"-"),this._isVisible(this.constructor.LOG_LEVEL.LOG)}wrapInstanceIO(t){if(t[n.LoggerWrapped])return t;const e=this,r=t.constructor,s=r.name,i=new Proxy(t,{get(t,n,i){const o=t[n];return"function"==typeof o?(...i)=>{e.debug(`call ${s}.${n}:`,i);const a=o.apply(t,i);return a instanceof r?e.wrapInstanceIO(a,r):a}:o}});return i[n.LoggerWrapped]=!0,i}}const o=new i("JLS",i.LOG_LEVEL.LOG);e.exports={Logger:i,logging:o}},{"./JavaLibraryScriptCore":9,"./symbol/SymbolDict":12}],11:[function(t,e,r){e.exports={JavaLibraryScriptCore:t("./JavaLibraryScriptCore.js"),...t("./Logger.js"),symbol:t("./symbol/index.js")}},{"./JavaLibraryScriptCore.js":9,"./Logger.js":10,"./symbol/index.js":13}],12:[function(t,e,r){const n="@@JLS_",s="JavaLibraryScript",i={LIBRARY_NAME:s,JavaLibraryScript:Symbol.for(`${n}${s}`),instanceofTarget:Symbol.for(`${n}instanceofTarget`),LoggerWrapped:Symbol.for(`${n}LoggerWrapped`),TypeAny:Symbol("Any"),TypeVoid:Symbol("Void")};e.exports=i},{}],13:[function(t,e,r){e.exports={...t("./SymbolDict.js")}},{"./SymbolDict.js":12}],14:[function(t,e,r){const n=t("./index");"undefined"!=typeof window&&(window.JavaLibraryScript=n),e.exports=n},{"./index":4}],15:[function(t,e,r){const n=t("../libs/sys/JavaLibraryScriptCore"),{logging:s}=t("../libs/sys/Logger");class i extends n{static ROUND_TRUNCATE=0;static ROUND_DOWN=0;static ROUND_UP=1;static ROUND_CEIL=2;static ROUND_FLOOR=3;static ROUND_HALF_UP=4;static ROUND_HALF_DOWN=5;static PI_MATH_DEFAULT=0;static PI_LEIBNIZ=1;static PI_NEWTON=2;static PI_CHUDNOVSKY=3;constructor({allowPrecisionMismatch:t=!1,mutateResult:e=!1,roundingMode:r=i.ROUND_TRUNCATE,extraPrecision:n=2n,piAlgorithm:s=i.PI_CHUDNOVSKY,sqrtMaxChebyshevSteps:o=30,trigFuncsMaxSteps:a=5000n,lnMaxSteps:c=10000n}={}){super(),this.allowPrecisionMismatch=t,this.mutateResult=e,this.roundingMode=r,this.extraPrecision=n,this.piAlgorithm=s,this.sqrtMaxChebyshevSteps=o,this.trigFuncsMaxSteps=a,this.lnMaxSteps=c}clone(){return new i({...this})}toggleMismatch(){this.allowPrecisionMismatch=!this.allowPrecisionMismatch}toggleMutation(){this.mutateResult=!this.mutateResult}}class o extends n{static MAX_PRECISION=200000000n;static config=new i;constructor(t,e=20n){if(super(),t instanceof o)return void(this.value=t.value);this._precision=BigInt(e);const r=this.constructor;if(r._checkPrecision(this._precision),!t)return void(this.value=0n);const{intPart:n,fracPart:s,sign:i}=this._parse(t),a=this._precision+r.config.extraPrecision,c=s.padEnd(Number(a),"0").slice(0,Number(a)),u=BigInt(n+c)*BigInt(i);this.value=r._round(u,a,this._precision)}static clone(){const t=this;return class extends t{static config=t.config.clone();static MAX_PRECISION=t.MAX_PRECISION}}clone(){const t=new this.constructor;return t._precision=this._precision,t.value=this.value,t}toNumber(){return Number(this.toString())}toString(t=10,e=this._precision){if(t<2||t>36)throw new RangeError("Base must be between 2 and 36");if(10===t)return this._normalize(this.value);const r=this.value,n=10n**this._precision,s="0123456789abcdefghijklmnopqrstuvwxyz",i=r<0n?"-":"",o=r<0n?-r:r,a=o/n,c=o%n,u=BigInt(t);let h="",l=a;if(0n===l)h="0";else for(;l>0n;)h=s[l%u]+h,l/=u;if(0n===this._precision)return`${i}${h}`;e=BigInt(e);let f="",p=c;for(let t=0n;t<e&&(p*=u,f+=s[p/n],p%=n,0n!==p);t++);return f.length>0?`${i}${h}.${f}`:`${i}${h}`}static parseFloat(t,e=20n,r=10){if(t instanceof o)return t.clone();if("string"!=typeof t&&(t=String(t)),r<2||r>36)throw new RangeError("Base must be between 2 and 36");if(10===r)return new this(t,e);const[n,s=""]=t.toLowerCase().replace(/^\+/,"").split("."),i=t.trim().startsWith("-")?-1n:1n,a=t=>{const e="0123456789abcdefghijklmnopqrstuvwxyz".indexOf(t);if(e<0||e>=r)throw new Error(`Invalid digit '${t}' for base ${r}`);return BigInt(e)},c=BigInt(r);let u=0n;for(const t of n.replace(/^[-+]/,""))u=u*c+a(t);let h=0n,l=1n,f=1n;for(let t=0;t<s.length&&t<e;t++)f*=c,h=h*c+a(s[t]),l=f;const p=10n**(e=BigInt(e)),_=(u*p+(0n===l?0n:h*p/l))*i;return this._makeResult(_,e)}toFixed(t){const e=this._normalize(this.value),[r,n=""]=e.split("."),s=Math.max(0,Number(t));return 0===s?r:`${r}.${n.padEnd(s,"0").slice(0,s)}`}compare(t){const[e,r]=this._bothRescale(t);return e<r?-1:e>r?1:0}eq(t){return 0===this.compare(t)}equals(t){return 0===this.compare(t)}ne(t){return 0!==this.compare(t)}lt(t){return-1===this.compare(t)}lte(t){return this.compare(t)<=0}gt(t){return 1===this.compare(t)}gte(t){return this.compare(t)>=0}isZero(){return 0n===this.value}isPositive(){return this.value>0n}isNegative(){return this.value<0n}floor(){const t=10n**this._precision,e=this.value/t,r=this.value<0n&&this.value%t!==0n?e-1n:e;return this._makeResult(r*t,this._precision)}ceil(){const t=10n**this._precision,e=this.value/t,r=this.value>0n&&this.value%t!==0n?e+1n:e;return this._makeResult(r*t,this._precision)}round(){const t=10n**this._precision,e=this.value/t,r=this.value%t,n=t/2n;let s;return s=this.value>=0n?r>=n?e+1n:e:-r>=n?e-1n:e,this._makeResult(s*t,this._precision)}trunc(){const t=10n**this._precision,e=this.value/t;return this._makeResult(e*t,this._precision)}reciprocal(){if(0n===this.value)throw new Error("Division by zero");const t=this.constructor.config.extraPrecision,e=this._precision+t,r=10n**e,n=r*r/(this.value*10n**t);return this._makeResult(n,this._precision,e)}matchingPrecision(t){const[e,r,n]=this._bothRescale(t);let s=e-r;if(0n===s)return n;s=s<0n?-s:s;let i=10n**n,o=0n;for(;o<n&&(i/=10n,s<i);)o+=1n;return o}relativeDiff(t){const[e,r,n]=this._bothRescale(t),s=e<0n?-e:e,i=r<0n?-r:r,o=e>r?e-r:r-e,a=s>i?s:i;if(0n===a)return 0n;const c=10n**n;return this._makeResult(o*c/a,n)}absoluteDiff(t){const[e,r,n]=this._bothRescale(t);return this._makeResult(e>r?e-r:r-e,n)}percentDiff(t){const[e,r,n]=this._bothRescale(t),s=r<0n?-r:r,i=e>r?e-r:r-e;if(0n===s)return 0n;const o=10n**n;return this._makeResult(i*o*100n/s,n)}static max(...t){const e=this._normalizeArgs(t);if(0===e.length)throw new Error("No arguments provided");const[r,n]=this._batchRescale(e);let s=r[0];for(let t=1;t<r.length;t++)r[t]>s&&(s=r[t]);return this._makeResult(s,n)}static min(...t){const e=this._normalizeArgs(t);if(0===e.length)throw new Error("No arguments provided");const[r,n]=this._batchRescale(e);let s=r[0];for(let t=1;t<r.length;t++)r[t]<s&&(s=r[t]);return this._makeResult(s,n)}static sum(...t){const e=this._normalizeArgs(t);if(0===e.length)return new this;const[r,n]=this._batchRescale(e),s=r.reduce(((t,e)=>t+e),0n);return this._makeResult(s,n)}static average(...t){const e=this._normalizeArgs(t);return 0===e.length?new this:this.sum(e).div(new this(e.length))}static median(...t){const e=this._normalizeArgs(t);if(0===e.length)throw new Error("No arguments provided");const[r,n]=this._batchRescale(e),s=r.sort(),i=Math.floor(s.length/2);if(s.length%2==1)return this._makeResult(s[i],n);{const t=new this;t.value=s[i-1],t._precision=n;const e=new this;return e.value=s[i],e._precision=n,t.add(e).div(2)}}static product(...t){const e=this._normalizeArgs(t);if(0===e.length)return new this("1");const[r,n,s]=this._batchRescale(e,!0);let i=new this(1,n);for(const t of r){const e=new this;e.value=t,e._precision=n,i=i.mul(e)}return this._makeResult(i.value,s,n)}static _checkPrecision(t){if(t<0n)throw new RangeError("Precision must be greater than 0");if(t>this.MAX_PRECISION)throw new RangeError(`Precision exceeds ${this.name}.MAX_PRECISION`)}_parse(t){const[e,r=""]=t.toString().split("."),n=e.startsWith("-")?-1:1;return{intPart:e.replace("-",""),fracPart:r,sign:n}}_normalize(t){const e=t<0n?"-":"",r=t<0n?-t:t,n=Number(this._precision);if(0===n)return`${e}${r.toString()}`;const s=r.toString().padStart(n+1,"0");return`${e}${s.slice(0,-n)}.${s.slice(-n)}`}_bothRescale(t,e=!1){const r=this._precision;t instanceof o||(t=new this.constructor(t));const n=t._precision,s=this.constructor.config;if(r===n){if(e){const e=s.extraPrecision,n=10n**e;return[this.value*n,t.value*n,r+e,r]}return[this.value,t.value,r,r]}if(!s.allowPrecisionMismatch)throw new Error("Precision mismatch");const i=r>n?r:n,a=i+(e?s.extraPrecision:0n),c=a-r,u=a-n;return[this.value*10n**c,t.value*10n**u,a,i]}static _normalizeArgs(t){return 1===t.length&&Array.isArray(t[0])?t[0]:t}static _batchRescale(t,e=!1){const r=this.config,n=r.extraPrecision;if(0===t.length)return e?[[],n,0n]:[[],0n,0n];t=t.slice();const s=r.allowPrecisionMismatch;let i=0n;for(let e=0;e<t.length;e++){let r=t[e];if(r instanceof this||(r=t[e]=new this(r)),!s&&r._precision!==i)throw new Error("Precision mismatch and allowPrecisionMismatch = false");r._precision>i&&(i=r._precision)}let o=i+(e?n:0n);return[t.map((t=>{const e=o-t._precision;return t.value*10n**e})),o,i]}static _makeResult(t,e,r=e){const n=this._round(t,r,e),s=new this;return s._precision=e,s.value=n,s}_makeResult(t,e,r=e,n=!0){const s=this.constructor;if(s.config.mutateResult&&n){const n=s._round(t,r,e);return this._precision=e,this.value=n,this}return s._makeResult(t,e,r)}static _round(t,e,r){const n=e-r;if(n<0n)return 0n===n?t:t*10n**-n;const s=10n**n,o=t%s,a=t-o;if(0n===o)return a/s;const c=o<0n?-o:o,u=s/2n,h=t<0n;let l=0n;switch(this.config.roundingMode){case i.ROUND_UP:l=h?-s:s;break;case i.ROUND_CEIL:h||(l=s);break;case i.ROUND_FLOOR:h&&(l=-s);break;case i.ROUND_HALF_UP:c>=u&&(l=h?-s:s);break;case i.ROUND_HALF_DOWN:c>u&&(l=h?-s:s)}return(a+l)/s}static _randomBigInt(t){const e=this.config.lnMaxSteps,r=10n**t;let n=0n;const s=this._log2(r*r,t,e),i=Number(((s+r-1n)/r+52n)/53n);for(let t=0;t<i;t++)n=(n<<53n)+BigInt(Math.floor(Math.random()*Number(2**53)));return n%r}static random(t=20n){t=BigInt(t),this._checkPrecision(t);let e=this._randomBigInt(t);return this._makeResult(e,t)}static _piLeibniz(t=20n,e=100n){const r=t*e;let n=0n;const s=4n*10n**t;let i=0n;for(let t=0n;t<r;t++){const e=s/(2n*t+1n);if(e===i)break;i=e,n+=t%2n==0n?e:-e}return n}static _piNewton(t=20n){const e=t+10n;return(16n*this._atanMachine(5n,e)-4n*this._atanMachine(239n,e))/10n**10n}static _piChudnovsky(t=20n){const e=10n**t,r=t/14n+1n,n=426880n*this._sqrt(10005n*e,t);let i=0n;function o(t){let e=1n;for(let r=2n;r<=t;r++)e*=r;return e}function a(t,e){let r=1n;for(let n=0n;n<e;n++)r*=t;return r}for(let t=0n;t<r;t++)i+=e*(o(6n*t)*(545140134n*t+13591409n)*(t%2n==0n?1n:-1n))/(o(3n*t)*a(o(t),3n)*a(640320n,3n*t));return 0n===i?(s.error("Chudnovsky法の計算に失敗しました"),0n):n*e/i}static _pi(t){const e=this.config.piAlgorithm,r=this._cachedPi;if(r&&r.piAlgorithm===e&&r.precision>=t)return this._round(r.value,r.precision,t);let n;switch(e){case i.PI_CHUDNOVSKY:n=this._piChudnovsky(t);break;case i.PI_NEWTON:n=this._piNewton(t);break;case i.PI_LEIBNIZ:n=this._piLeibniz(t);break;default:return this._checkPrecision(t),new this(`${Math.PI}`,t).value}return this._cachedPi={precision:t,value:n,piAlgorithm:e},n}static pi(t=20n){t=BigInt(t),this._checkPrecision(t);const e=new this;return e.value=this._pi(t),e._precision=t,e}static _exp(t,e){const r=10n**e;let n=r,s=r,i=1n;for(;s=s*t/(r*i),0n!==s;)n+=s,i++;return n}static e(t=20n){t=BigInt(t),this._checkPrecision(t);const e=t+this.config.extraPrecision,r=10n**e,n=this._exp(r,e);return this._makeResult(n,t,e)}exp(){const t=this.constructor,e=t.config.extraPrecision,r=this._precision+e,n=this.value*10n**e,s=t._exp(n,r);return this._makeResult(s,this._precision,r)}static _expm1(t,e){const r=10n**e;if((t<0n?-t:t)<r/10n){let e=t,n=e,s=1n,i=1n;for(let o=2n;0n!==i;o++)s*=o,e=e*t/r,i=e/s,n+=i;return n}return this._exp(t,e)-r}expm1(){const t=this.constructor,e=t.config.extraPrecision,r=this._precision+e,n=this.value*10n**e,s=t._expm1(n,r);return this._makeResult(s,this._precision,r)}scale(){let t=this.value,e=this._precision;for(;e>0n&&t%10n==0n;)t/=10n,e--;return this._makeResult(t,e)}add(t){const[e,r,n]=this._bothRescale(t);return this._makeResult(e+r,n)}sub(t){const[e,r,n]=this._bothRescale(t);return this._makeResult(e-r,n)}mul(t){const[e,r,n,s]=this._bothRescale(t,!0),i=e*r/10n**n;return this._makeResult(i,s,n)}div(t){const[e,r,n,s]=this._bothRescale(t,!0),i=10n**n;if(0n===r)throw new Error("Division by zero");const o=e*i/r;return this._makeResult(o,s,n)}static _mod(t,e){const r=t%e;return r<0n?r+e:r}mod(t){const[e,r,n]=this._bothRescale(t),s=this.constructor._mod(e,r);return this._makeResult(s,n)}neg(){return this._makeResult(-this.value,this._precision)}abs(){const t=this.value;return this._makeResult(t<0n?-t:t,this._precision)}pow(t){const e=this._precision,r=10n**e;let n=BigInt(t);if(0n===n)return this._makeResult(r,e);if(0n===this.value)return this._makeResult(0n,e);if(n<0n)return this._makeResult(r,e).div(this.pow(-n));const s=this.constructor.config.extraPrecision,i=10n**(e+s);let o=this.value*10n**s,a=i;for(;n>0n;)1n&n&&(a=a*o/i),o=o*o/i,n>>=1n;return this._makeResult(a,e,e+s)}static _sqrt(t,e){if(t<0n)throw new Error("Cannot compute square root of negative number");if(0n===t)return 0n;const r=t*10n**e;let n,s=r;for(;n=s,s=(s+r/s)/2n,!(s===n||(s>n?s-n:n-s)<=1n););return s}sqrt(){const t=this.constructor,e=t.config.extraPrecision,r=this._precision,n=r+e,s=this.value*10n**e,i=t._sqrt(s,n);return this._makeResult(i,r,n)}sqrtChebyshev(){let t=this.value;if(t<0n)throw new Error("Cannot compute square root of negative number");const e=this.constructor.config,r=e.sqrtMaxChebyshevSteps,n=e.extraPrecision,s=this._precision,i=s+n,o=10n**i;t*=10n**n;const a=o*o;let c=v/2n;0n===c&&(c=1n);let u=0n;for(let e=0;e<r&&c!==u;e++){u=c;const e=c*c/o-t,r=2n*c;c=c-e*o/r-e*e/o*2n/(r*r*r/a)}return this._makeResult(c,s,i)}static _nthRoot(t,e,r){if(e<=0n)throw new Error("n must be a positive integer");if(t<0n&&e%2n==0n)throw new Error("Even root of negative number is not real");const n=10n**r;let s=n;for(;;){let r=s;if(1n===e)r=n;else for(let t=1n;t<e-1n;t++)r=r*s/n;const i=((e-1n)*s+t*n/r)/e;if(i===s)break;s=i}return s}nthRoot(t){const e=this.constructor,r=e.config.extraPrecision,n=this._precision,s=n+r,i=this.value*10n**r,o=e._nthRoot(i,BigInt(t),s);return this._makeResult(o,n,s)}static _sin(t,e,r){const n=10n**e,s=this._pi(e),i=2n*s,o=s/2n;(t=this._mod(t,i))>s&&(t-=i);let a=1n;t>o?(t=s-t,a=1n):t<-o&&(t=-s-t,a=-1n);let c=t,u=c,h=t*t/n,l=-1n;for(let t=1n;t<=r;t++){const e=2n*t;if(c=c*h/n,c/=e*(e+1n),0n===c)break;u+=l*c,l*=-1n}return u*a}sin(){const t=this.constructor,e=t.config.trigFuncsMaxSteps,r=t.config.extraPrecision,n=this._precision+r,s=this.value*10n**r,i=t._sin(s,n,e);return this._makeResult(i,this._precision,n)}static _cos(t,e,r){const n=10n**e;let s=n,i=s,o=t*t/n,a=-1n;for(let t=1n,e=2n;t<=r&&(s=s*o/n,s/=e*(e-1n),0n!==s);t++,e+=2n)i+=a*s,a*=-1n;return i}cos(){const t=this.constructor,e=t.config.trigFuncsMaxSteps,r=t.config.extraPrecision,n=this._precision+r,s=this.value*10n**r,i=t._cos(s,n,e);return this._makeResult(i,this._precision,n)}static _tan(t,e,r){const n=this._cos(t,e,r),s=10n**(e-4n);if(0n===n||n>-s&&n<s)throw new Error("tan(x) is undefined or numerically unstable at this point");return this._sin(t,e,r)*10n**e/n}tan(){const t=this.constructor,e=t.config.trigFuncsMaxSteps,r=t.config.extraPrecision,n=this._precision+r,s=this.value*10n**r,i=t._tan(s,n,e);return this._makeResult(i,this._precision,n)}static _trigFuncsNewton(t,e,r,n,s=50){const i=10n**n;let o=r;for(let r=0;r<s;r++){const r=t(o);if(0n===r)break;const n=e(o);if(0n===n)throw new Error("Derivative zero during Newton iteration");const s=r*i/n;if(o-=s,0n===s)break}return o}static _asin(t,e,r){const n=10n**e;if(t>n||t<-n)throw new Error("asin input out of range [-1,1]");const s=this._pi(e)/2n,i=t*s/n;return this._trigFuncsNewton((n=>this._sin(n,e,r)-t),(t=>this._cos(t,e,r)),i,e,BigInt(r))}asin(){const t=this.constructor,e=t.config.trigFuncsMaxSteps,r=t.config.extraPrecision,n=this._precision+r,s=this.value*10n**r,i=t._asin(s,n,e);return this._makeResult(i,this._precision,n)}static _acos(t,e,r){return this._pi(e)/2n-this._asin(t,e,r)}acos(){const t=this.constructor,e=t.config.trigFuncsMaxSteps,r=t.config.extraPrecision,n=this._precision+r,s=this.value*10n**r,i=t._acos(s,n,e);return this._makeResult(i,this._precision,n)}static _atanMachine(t,e){const r=10n**e,n=r/t,s=n*n/r;let i=n,o=i,a=-1n,c=0n;for(let t=3n;i!==c;t+=2n)i=i*s/r,c=i,o+=a*i/t,a*=-1n;return o}static _atan(t,e,r){const n=10n**e,s=t<0n?-t:t;if(s<=n){const s=n=>this._tan(n,e,r)-t,i=t=>{const s=this._cos(t,e,r);if(0n===s)throw new Error("Derivative undefined");return n*n*n/(s*s)};return this._trigFuncsNewton(s,i,t,e,BigInt(r))}const i=t<0n?-1n:1n,o=this._pi(e)/2n,a=n*n/s;return i*(o-this._atan(a,e,r))}atan(){const t=this.constructor,e=t.config.trigFuncsMaxSteps,r=t.config.extraPrecision,n=this._precision+r,s=this.value*10n**r,i=t._atan(s,n,e);return this._makeResult(i,this._precision,n)}static _atan2(t,e,r,n){if(0n===e)return t>0n?this._pi(r)/2n:t<0n?-this._pi(r)/2n:0n;const s=10n**r,i=this._atan(t*s/e,r,n);return e>0n?i:t>=0n?i+this._pi(r):i-this._pi(r)}atan2(t){const[e,r,n,s]=this._bothRescale(t,!0),i=this.constructor,o=i.config.trigFuncsMaxSteps,a=i._atan2(e,r,n,o);return this._makeResult(a,s,n)}static _ln(t,e,r){if(t<=0n)throw new Error("ln(x) is undefined for x <= 0");const n=10n**e;let s=t,i=0n;for(;s>10n*n;)s/=10n,i+=1n;for(;s<n;)s*=10n,i-=1n;const o=(s-n)*n/(s+n);let a=o*o/n,c=o,u=c;for(let t=1n;t<r;t++){c=c*a/n;const e=c/(2n*t+1n);if(0n===e)break;u+=e}return 2n*u+i*this._ln10(e,r)}static _ln10(t,e=10000n){const r=10n**t,n=10n*r,s=(n-r)*r/(n+r),i=s*s/r;let o=s,a=o;for(let t=1n;t<e;t++){o=o*i/r;const e=o/(2n*t+1n);if(0n===e)break;a+=e}return 2n*a}ln(){const t=this.constructor,e=t.config,r=e.lnMaxSteps,n=e.extraPrecision,s=this._precision+n,i=this.value*10n**n,o=t._ln(i,s,r);return this._makeResult(o,this._precision,s)}static _log(t,e,r,n){if(1n===t)return 0n;const s=this._ln(e,r,n);if(0n===s)throw new Error("log base cannot be 1 or 0");return this._ln(t,r,n)*10n**r/s}log(t){const[e,r,n,s]=this._bothRescale(t,!0),i=this.constructor,o=i.config.lnMaxSteps,a=i._log(e,r,n,o);return this._makeResult(a,s,n)}static _log2(t,e,r){const n=2n*10n**e;return this._log(t,n,e,r)}log2(){const t=this.constructor,e=t.config.lnMaxSteps,r=t.config.extraPrecision,n=this._precision+r,s=this.value*10n**r,i=t._log2(s,n,e);return this._makeResult(i,this._precision,n)}static _log10(t,e,r){const n=10n*10n**e;return this._log(t,n,e,r)}log10(){const t=this.constructor,e=t.config.lnMaxSteps,r=t.config.extraPrecision,n=this._precision+r,s=this.value*10n**r,i=t._log10(s,n,e);return this._makeResult(i,this._precision,n)}static _log1p(t,e,r){const n=10n**e,s=n+t;return this._log(s,n,e,r)}log1p(){const t=this.constructor,e=t.config.lnMaxSteps,r=t.config.extraPrecision,n=this._precision+r,s=this.value*10n**r,i=t._log1p(s,n,e);return this._makeResult(i,this._precision,n)}}e.exports={BigFloatConfig:i,BigFloat:o,bigFloat:function(t,e){return new o(t,e)}}},{"../libs/sys/JavaLibraryScriptCore":9,"../libs/sys/Logger":10}],16:[function(t,e,r){e.exports={...t("./BigFloat.js")}},{"./BigFloat.js":15}],17:[function(t,e,r){const n=t("../libs/IndexProxy"),s=t("./ListInterface"),i=t("../libs/TypeChecker"),o=t("./stream/StreamChecker");t("./stream/Stream");class a extends s{constructor(t,e){super(t),this._list=[],e&&this.addAll(e),n.defineInitData(this)}[Symbol.hasInstance](t){return n.hasInstance(this,t)}add(t){return this._checkValue(t),this._list.push(t),this}addAll(t){for(const e of t)this.add(e);return this}get(t){return this._list[t]}set(t,e){return this._checkValue(e),this._list[t]=e,this}remove(t){return this._list.splice(t,1)[0]}get size(){return this._list.length}clear(){this._list.length=0}equals(t){if(!(t instanceof a)||this.size!==t.size)return!1;for(let e=0;e<this.size;e++)if(this._list[e]!==t._list[e])return!1;return!0}values(){return this._list.values()}forEach(t,e){for(const r of this._list)t.call(e,r,r,this._list)}sort(t=void 0){this._list.sort(t)}*sorted(t=void 0){yield*this.toArray().sort(t)}subList(t,e){if(t<0||e>this.size||t>e)throw new RangeError(`subList(${t}, ${e}) は無効な範囲です`);return new this.constructor(this._ValueType,this._list.slice(t,e))}stream(){return o.typeToStream(this._ValueType).from(this._list,this._ValueType)}toArray(){return this._list.slice()}toString(){return`${this.constructor.name}<${i.typeNames(this._ValueType)}>(size=${this.size})`}[Symbol.iterator](){return this.values()}}const c=new n(a);e.exports={ArrayList:a,arrayList:function(t,e){return c.create(t,e)}}},{"../libs/IndexProxy":5,"../libs/TypeChecker":7,"./ListInterface":20,"./stream/Stream":27,"./stream/StreamChecker":28}],18:[function(t,e,r){const{TypeChecker:n}=t("../libs"),s=t("./MapInterface"),i=t("./stream/EntryStream");class o extends s{constructor(t,e){super(t,e)}set(t,e){return this._checkKey(t),this._checkValue(e),super.set(t,e)}put(t,e){return this.set(t,e)}setAll(t){for(const[e,r]of t.entries())this.set(e,r)}putAll(t){return this.setAll(t)}get(t){return this._checkKey(t),super.get(t)}has(t){return this._checkKey(t),super.has(t)}containsKey(t){return this.has(t)}containsValue(t){for(const e of super.values())if(e===t)return!0;return!1}delete(t){return this._checkKey(t),super.delete(t)}remove(t){return this.delete(t)}entrySet(){return this.entries()}equals(t){if(!(t instanceof Map)||this.size!==t.size)return!1;for(const[e,r]of this.entries())if(!t.has(e)||t.get(e)!==r)return!1;return!0}forEach(t,e){for(const[r,n]of this.entries())t.call(e,n,r,this)}stream(){return i.from(this.entries(),this._KeyType,this._ValueType)}toString(){return`${this.constructor.name}<${n.typeNames(this._KeyType)}, ${n.typeNames(this._ValueType)}>(size=${this.size})`}[Symbol.iterator](){return this.entries()}}e.exports=o},{"../libs":8,"./MapInterface":21,"./stream/EntryStream":25}],19:[function(t,e,r){const n=t("./SetInterface"),s=t("../libs/TypeChecker"),i=t("./stream/StreamChecker");t("./stream/Stream");class o extends n{constructor(t){super(t)}add(t){return this._checkValue(t),super.add(t)}addAll(t){for(const e of t)this.add(e);return this}has(t){return this._checkValue(t),super.has(t)}contains(t){return this.has(t)}containsAll(t){for(const e of t)if(!this.has(e))return!1;return!0}delete(t){return this._checkValue(t),super.delete(t)}remove(t){return this.delete(t)}removeAll(t){let e=!1;for(const r of t)e=this.delete(r)||e;return e}retainAll(t){const e=new Set(t);let r=!1;for(const t of this)e.has(t)||(this.delete(t),r=!0);return r}equals(t){if(!(t instanceof Set)||this.size!==t.size)return!1;for(const e of this)if(!t.has(e))return!1;return!0}forEach(t,e){for(const r of this)t.call(e,r,r,this)}stream(){return i.typeToStream(this._ValueType).from(this.values(),this._ValueType)}toArray(){return Array.from(this)}toString(){return`${this.constructor.name}<${s.typeNames(this._ValueType)}>(size=${this.size})`}[Symbol.iterator](){return this.values()}}e.exports=o},{"../libs/TypeChecker":7,"./SetInterface":22,"./stream/Stream":27,"./stream/StreamChecker":28}],20:[function(t,e,r){const n=t("../libs/sys/JavaLibraryScriptCore"),s=t("../base/Interface"),i=t("../libs/TypeChecker"),o=i.Any,a=i.NoReturn,c=[i.NotNull,i.NotUndefined];class u extends n{constructor(t){super(),this._ValueType=t||o}_checkValue(t){if(!i.matchType(t,this._ValueType))throw new TypeError(`値型が一致しません。期待: ${i.typeNames(this._ValueType)} → 実際: ${i.stringify(t)}`)}isEmpty(){return 0===this.size}}u=s.convert(u,{add:{args:[c],returns:u},get:{args:[Number],returns:o},set:{args:[Number,c],returns:u},remove:{args:[Number],returns:o},isEmpty:{returns:Boolean,abstract:!0},clear:{returns:a},toArray:{returns:Array}}),e.exports=u},{"../base/Interface":2,"../libs/TypeChecker":7,"../libs/sys/JavaLibraryScriptCore":9}],21:[function(t,e,r){const n=t("../base/Interface"),s=t("../libs/TypeChecker"),i=s.Any,o=s.NoReturn,a=[s.NotNull,s.NotUndefined];class c extends Map{constructor(t,e){super(),this._KeyType=t||i,this._ValueType=e||i}_checkKey(t){if(!s.matchType(t,this._KeyType))throw new TypeError(`キー型が一致しません。期待: ${s.typeNames(this._KeyType)} → 実際: ${s.stringify(t)}`)}_checkValue(t){if(!s.matchType(t,this._ValueType))throw new TypeError(`値型が一致しません。期待: ${s.typeNames(this._ValueType)} → 実際: ${s.stringify(t)}`)}isEmpty(){return 0===this.size}}c=n.convert(c,{set:{args:[a,a],returns:c,abstract:!0},put:{args:[a,a],returns:c},get:{args:[a],returns:i,abstract:!0},delete:{args:[a],returns:Boolean,abstract:!0},remove:{args:[a],returns:Boolean},isEmpty:{returns:Boolean,abstract:!0},clear:{returns:o},has:{args:[a],returns:Boolean,abstract:!0},containsKey:{args:[a],returns:Boolean},containsValue:{args:[a],returns:Boolean}}),e.exports=c},{"../base/Interface":2,"../libs/TypeChecker":7}],22:[function(t,e,r){const n=t("../base/Interface"),s=t("../libs/TypeChecker"),i=s.Any,o=s.NoReturn,a=[s.NotNull,s.NotUndefined];class c extends Set{constructor(t){super(),this._ValueType=t||i}_checkValue(t){if(!s.matchType(t,this._ValueType))throw new TypeError(`値型が一致しません。期待: ${s.typeNames(this._ValueType)} → 実際: ${s.stringify(t)}`)}isEmpty(){return 0===this.size}}c=n.convert(c,{add:{args:[a],returns:c},delete:{args:[a],returns:Boolean},remove:{args:[a],returns:Boolean},isEmpty:{returns:Boolean,abstract:!0},clear:{returns:o},has:{args:[a],returns:Boolean},contains:{args:[a],returns:Boolean}}),e.exports=c},{"../base/Interface":2,"../libs/TypeChecker":7}],23:[function(t,e,r){e.exports={...t("./ArrayList.js"),HashMap:t("./HashMap.js"),HashSet:t("./HashSet.js"),ListInterface:t("./ListInterface.js"),MapInterface:t("./MapInterface.js"),SetInterface:t("./SetInterface.js"),stream:t("./stream/index.js")}},{"./ArrayList.js":17,"./HashMap.js":18,"./HashSet.js":19,"./ListInterface.js":20,"./MapInterface.js":21,"./SetInterface.js":22,"./stream/index.js":31}],24:[function(t,e,r){const n=t("./StreamInterface"),s=t("./Stream");class i extends n{constructor(t){super(),this._iter=i._normalize(t),this._pipeline=[]}static from(t){return new i(t)}static _normalize(t){if("function"==typeof t[Symbol.asyncIterator])return t;if("function"==typeof t[Symbol.iterator])return async function*(){for(const e of t)yield e}();throw new TypeError("not (Async)Iterable")}_use(t){return this._pipeline.push(t),this}flattenPipeline(){const t=this._pipeline.reduceRight(((t,e)=>async function*(r){yield*e(t(r))}),(async function*(t){yield*t})),e=new this.constructor([]);return e._iter=this._iter,e._pipeline=[t],e}toFunction(){const t=this.flattenPipeline()._pipeline[0];return e=>t(e)}map(t){return this._use((async function*(e){for await(const r of e)yield await t(r)}))}filter(t){return this._use((async function*(e){for await(const r of e)await t(r)&&(yield r)}))}flatMap(t){return this._use((async function*(e){for await(const r of e){const e=await t(r);for await(const t of i._normalize(e))yield t}}))}distinct(t=t=>t){return this._use((async function*(e){const r=new Set;for await(const n of e){const e=await t(n);r.has(e)||(r.add(e),yield n)}}))}peek(t){return this._use((async function*(e){for await(const r of e)t(r),yield r}))}limit(t){return this._use((async function*(e){let r=0;for await(const n of e){if(!(r++<t))break;yield n}}))}skip(t){return this._use((async function*(e){let r=0;for await(const n of e)r++>=t&&(yield n)}))}[Symbol.asyncIterator](){let t=this._iter;for(const e of this._pipeline)t=e(t);return t[Symbol.asyncIterator]()}async forEach(t){for await(const e of this)await t(e)}async toArray(){const t=[];for await(const e of this)t.push(e);return t}async reduce(t,e){let r=e;for await(const e of this)r=await t(r,e);return r}async count(){return await this.reduce((t=>t+1),0)}async some(t){for await(const e of this)if(await t(e))return!0;return!1}async every(t){for await(const e of this)if(!await t(e))return!1;return!0}async findFirst(){for await(const t of this)return t}async find(){return await this.findFirst()}collectWith(t){return t(this)}async toLazy(){const t=[];for await(const e of this)t.push(e);return new s(t)}toString(){return`${this.constructor.name}<Promise>`}}e.exports=i},{"./Stream":27,"./StreamInterface":29}],25:[function(t,e,r){const n=t("./Stream"),s=t("./StreamChecker"),i=t("../../libs/TypeChecker"),o=i.Any;let a;e.exports=class extends n{constructor(t,e,r){super(t,r),this.mapToEntry=void 0,this._KeyType=e||o}static from(t,e,r){return new this(t,e,r)}keys(){return this._convertToX(s.typeToStream(this._KeyType)).map((([t,e])=>t))}values(){return this._convertToX(s.typeToStream(this._ValueType)).map((([t,e])=>e))}mapKeys(t){return this.map((([e,r])=>[t(e),r]))}mapValues(t){return this.map((([e,r])=>[e,t(r)]))}toHashMap(e=this._KeyType,r=this._ValueType){a||(a=t("../HashMap"));const n=new a(e,r);return this.forEach((([t,e])=>n.set(t,e))),n}toString(){return`${this.constructor.name}<${i.typeNames(this._KeyType)}, ${i.typeNames(this._ValueType)}>`}}},{"../../libs/TypeChecker":7,"../HashMap":18,"./Stream":27,"./StreamChecker":28}],26:[function(t,e,r){const n=t("./Stream");e.exports=class extends n{constructor(t){super(t,Number),this.mapToNumber=void 0}sum(){let t=0;for(const e of this)t+=e;return t}average(){let t=0,e=0;for(const r of this)t+=r,e++;return 0===e?NaN:t/e}min(){let t=1/0;for(const e of this)e<t&&(t=e);return t===1/0?null:t}max(){let t=-1/0;for(const e of this)e>t&&(t=e);return t===-1/0?null:t}}},{"./Stream":27}],27:[function(t,e,r){const n=t("./StreamInterface"),s=t("../../libs/TypeChecker"),i=s.Any;let o,a,c,u,h;class l extends n{constructor(e,r){super(),this._iter=e[Symbol.iterator](),this._pipeline=[],this._ValueType=r||i,o||(o=t("./NumberStream"),a=t("./StringStream"),c=t("./EntryStream"),u=t("./AsyncStream"),h=t("../HashSet"))}static from(t,e){return new this(t,e)}_use(t){return this._pipeline.push(t),this}_convertToX(t,e,...r){const n=new t([],...r);return n._iter=this._iter,n._pipeline=[...this._pipeline],e&&n._pipeline.push(e),n}flattenPipeline(){const t=this._pipeline.reduceRight(((t,e)=>function*(r){yield*e(t(r))}),(t=>t)),e=new this.constructor([]);return e._iter=this._iter,e._pipeline=[t],e}toFunction(){const t=this.flattenPipeline()._pipeline[0];return e=>t(e)}map(t){return this._use((function*(e){for(const r of e)yield t(r)}))}filter(t){return this._use((function*(e){for(const r of e)t(r)&&(yield r)}))}flatMap(t){return this._use((function*(e){for(const r of e){const e=t(r);yield*e instanceof n?e:e[Symbol.iterator]()}}))}distinct(t=JSON.stringify.bind(JSON)){return this._use((function*(e){const r=new Set;for(const n of e){const e=t(n);r.has(e)||(r.add(e),yield n)}}))}sorted(t=(t,e)=>t>e?1:t<e?-1:0){return this._use((function*(e){const r=[...e].sort(t);yield*r}))}peek(t){return this._use((function*(e){for(const r of e)t(r),yield r}))}limit(t){return this._use((function*(e){let r=0;for(const n of e){if(r++>=t)break;yield n}}))}skip(t){return this._use((function*(e){let r=0;for(const n of e)r++<t||(yield n)}))}chunk(t){return this._use((function*(e){let r=[];for(const n of e)r.push(n),r.length===t&&(yield r,r=[]);r.length&&(yield r)}))}windowed(t,e=t){return this._use((function*(r){const n=[];for(const s of r)n.push(s),n.length===t&&(yield n.slice(),n.splice(0,e))}))}[Symbol.iterator](){return this._pipeline.reduce(((t,e)=>e(t)),this._iter)}[Symbol.asyncIterator](){let t=this._pipeline.reduce(((t,e)=>e(t)),this._iter);return{next:async()=>Promise.resolve(t.next())}}forEach(t){for(const e of this)t(e)}toArray(){return Array.from(this)}reduce(t,e){let r=e;for(const e of this)r=t(r,e);return r}count(){let t=0;for(const e of this)t++;return t}some(t){for(const e of this)if(t(e))return!0;return!1}every(t){for(const e of this)if(!t(e))return!1;return!0}findFirst(){for(const t of this)return t}findAny(){return this.findFirst()}collectWith(t){return t(this)}mapToNumber(t){return this._convertToX(o,(function*(e){for(const r of e){const e=t(r);if("number"!=typeof e)throw new TypeError("mapToNumber() must return number. Got "+typeof e);yield e}}))}mapToString(t){return this._convertToX(a,(function*(e){for(const r of e){const e=t(r);if("string"!=typeof e)throw new TypeError("mapToString() must return string. Got "+typeof e);yield e}}))}mapToEntry(t){return this._convertToX(c,(function*(e){for(const r of e){const e=t(r);if(!Array.isArray(e)||2!==e.length)throw new TypeError(`mapToEntry() must return [key, value] pair. Got: ${e}`);yield e}}),i,i)}mapToAsync(t){const e=this.flattenPipeline(),r=e._pipeline[0](e._iter),n=async function*(){for(const e of r)yield await t(e)}();return new u(n)}toHashSet(t=this._ValueType){const e=new h(t);for(const t of this)e.add(t);return e}toString(){return`${this.constructor.name}<${s.typeNames(this._ValueType)}>`}}e.exports=l},{"../../libs/TypeChecker":7,"../HashSet":19,"./AsyncStream":24,"./EntryStream":25,"./NumberStream":26,"./StreamInterface":29,"./StringStream":30}],28:[function(t,e,r){const n=t("../../libs/sys/JavaLibraryScriptCore"),s=t("../../libs/TypeChecker");let i,o,a,c,u;function h(){i||(i=t("./Stream"),o=t("./NumberStream"),a=t("./StringStream"),c=t("./EntryStream"),u=t("./AsyncStream"))}t("./StreamInterface"),e.exports=class extends n{static typeToStream(t){return h(),null==t?i:t===String?a:t===Number?o:t===Map?c:t===Promise?u:i}static streamToType(t){return h(),t instanceof a?String:t instanceof o?Number:t instanceof c?Map:t instanceof u?Promise:t instanceof i?s.Any:null}}},{"../../libs/TypeChecker":7,"../../libs/sys/JavaLibraryScriptCore":9,"./AsyncStream":24,"./EntryStream":25,"./NumberStream":26,"./Stream":27,"./StreamInterface":29,"./StringStream":30}],29:[function(t,e,r){const n=t("../../libs/sys/JavaLibraryScriptCore"),s=t("../../base/Interface");class i extends n{constructor(){super()}}i=s.convert(i,{map:{args:[Function],returns:i},filter:{args:[Function],returns:i},flatMap:{args:[Function],returns:i},forEach:{args:[[Function,Promise]],returns:[void 0,Promise]}}),e.exports=i},{"../../base/Interface":2,"../../libs/sys/JavaLibraryScriptCore":9}],30:[function(t,e,r){const n=t("./Stream");e.exports=class extends n{constructor(t){super(t,String),this.mapToString=void 0}join(t=" "){return Array.from(this).join(t)}concatAll(){return this.join("")}longest(){let t="";for(const e of this)e.length>t.length&&(t=e);return t||null}shortest(){let t=null;for(const e of this)(null===t||e.length<t.length)&&(t=e);return t||null}}},{"./Stream":27}],31:[function(t,e,r){e.exports={AsyncStream:t("./AsyncStream.js"),EntryStream:t("./EntryStream.js"),NumberStream:t("./NumberStream.js"),Stream:t("./Stream.js"),StreamChecker:t("./StreamChecker.js"),StreamInterface:t("./StreamInterface.js"),StringStream:t("./StringStream.js")}},{"./AsyncStream.js":24,"./EntryStream.js":25,"./NumberStream.js":26,"./Stream.js":27,"./StreamChecker.js":28,"./StreamInterface.js":29,"./StringStream.js":30}]},{},[14]);
//# sourceMappingURL=JavaLibraryScript.min.js.map