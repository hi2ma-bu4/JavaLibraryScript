!function e(t,r,s){function n(o,a){if(!r[o]){if(!t[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var y=r[o]={exports:{}};t[o][0].call(y.exports,(function(e){return n(t[o][1][e]||e)}),y,y.exports,e,t,r,s)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<s.length;o++)n(s[o]);return n}({1:[function(e,t,r){const s=e("../libs/sys/JavaLibraryScriptCore.js");class n extends s{constructor(e,t,r=e,s=null,n={}){super(),this.name=e,this.ordinal=t,this.value=r,this.owner=s;for(const[e,t]of Object.entries(n))"function"==typeof t&&(this[e]=t.bind(this));Object.freeze(this)}toString(){return this.name}toJSON(){return this.name}compareTo(e){return this.ordinal-e.ordinal}equals(e){return e instanceof n&&this.name===e.name&&this.ordinal===e.ordinal&&this.value===e.value}hashCode(){return this.name.split("").reduce(((e,t)=>e+t.charCodeAt(0)),0)+31*this.ordinal}}class i extends s{constructor(e,t={}){let r;if(super(),this._items=[],this._methods=t.methods||{},Array.isArray(e))r=e.map((e=>Array.isArray(e)?e:[e,e]));else{if("object"!=typeof e||null===e)throw new TypeError("Enum: 配列か連想配列で定義してください");r=Object.entries(e)}r.forEach((([e,t],r)=>{const s=new n(e,r,t,this,this._methods);Object.defineProperty(this,e,{value:s,writable:!1,configurable:!1,enumerable:!0}),this._items.push(s)})),Object.freeze(this._items)}values(){return this._items.slice()}valueOf(e){return this[e]}fromName=valueOf;fromValue(e){return this._items.find((t=>t.value===e))}fromOrdinal(e){return this._items.find((t=>t.ordinal===e))}has(e){return"object"==typeof this[e]&&this[e]instanceof n}entries(){return this._items.map((e=>[e.name,e]))}keys(){return this._items.map((e=>e.name))}toMap(){const e={};for(const t of this._items)e[t.name]=t.value;return e}toJSON(){return this._items.map((e=>e.toJSON()))}*[Symbol.iterator](){yield*this._items}*enumerate(){for(let e=0;e<this._items.length;e++)yield[e,this._items[e]]}}t.exports={_EnumItem:n,_EnumCore:i,Enum:function(e,t={}){const r=new i(e,t);return new Proxy(r,{get(e,t,r){if("string"==typeof t&&/^[0-9]+$/.test(t)){const r=Number(t);return e._items[r]}return Reflect.get(e,t,r)},enumerate:e=>Object.keys(e._items).map((e=>e.toString())),has(e,t){if("string"==typeof t&&/^[0-9]+$/.test(t)){const r=Number(t);return r>=0&&r<e._items.length}return t in e},ownKeys:e=>[...Reflect.ownKeys(e),...e._items.map(((e,t)=>t.toString()))],getOwnPropertyDescriptor:(e,t)=>"string"==typeof t&&/^[0-9]+$/.test(t)?t in e._items?{value:e._items[Number(t)],writable:!1,configurable:!1,enumerable:!0}:void 0:Object.getOwnPropertyDescriptor(e,t),set(e,t,r){throw new TypeError(`Enumは変更できません: ${String(t)} = ${r}`)},defineProperty(e,t,r){throw new TypeError(`Enumにプロパティを追加/変更できません: ${String(t)}`)},deleteProperty(e,t){throw new TypeError(`Enumのプロパティを削除できません: ${String(t)}`)}})}}},{"../libs/sys/JavaLibraryScriptCore.js":7}],2:[function(e,t,r){const s=e("../libs/sys/JavaLibraryScriptCore.js"),n=e("../libs/TypeChecker.js");class i extends s{static _isDebugMode=!1;static methodTypes={};constructor(){if(super(),new.target===i)throw new Error("Interfaceは直接インスタンス化できません。継承して使ってください。");if(!i._isDebugMode)return;const e=this.constructor,t=e.methodTypes||{};for(const r in t){const s=t[r];if("function"!=typeof this[r])throw new Error(`"${e.name}" はメソッド "${r}" を実装する必要があります`);const i=this[r].bind(this);this[r]=(...t)=>{const o=s.args||[];for(let s=0;s<o.length;s++)if(!n.matchType(t[s],o[s]))throw new TypeError(`"${e.name}.${r}" 第${s+1}引数: ${n.typeNames(o[s])} を期待 → 実際: ${n.stringify(t[s])}`);const a=i(...t),c=s.returns,u=n.checkClass(c)?c:c(t),y=t=>{if(!n.matchType(t,u))throw new TypeError(`"${e.name}.${r}" の戻り値: ${n.typeNames(u)} を期待 → 実際: ${n.stringify(t)}`);return t};return a instanceof Promise?a.then(y):y(a)}}}}t.exports=i},{"../libs/TypeChecker.js":5,"../libs/sys/JavaLibraryScriptCore.js":7}],3:[function(e,t,r){t.exports={...e("./Enum.js"),Interface:e("./Interface.js")}},{"./Enum.js":1,"./Interface.js":2}],4:[function(e,t,r){t.exports={base:e("./base"),libs:e("./libs"),util:e("./util")}},{"./base":3,"./libs":6,"./util":13}],5:[function(e,t,r){const s=e("../libs/sys/JavaLibraryScriptCore.js"),{_EnumCore:n,_EnumItem:i}=e("../base/Enum.js");class o extends s{static _CLASS_REG=/^\s*class\s+/;static _NotType=class extends s{constructor(e){if(super(),e instanceof o._NotType)throw new TypeError("typeToExclude must be instance of NotType");this.typeToExclude=e}};static NotType(e){return new o._NotType(e)}static Any=Symbol("any");static Void=Symbol("void");static NoReturn=this.Void;static NotNull=this.NotType(null);static NotUndefined=this.NotType(void 0);static matchType(e,t){if(Array.isArray(t)){if(t.filter((e=>e instanceof this._NotType)).some((t=>this.checkType(e,t.typeToExclude))))return!1;const r=t.filter((e=>!(e instanceof this._NotType)));return 0===r.length||r.some((t=>this.checkType(e,t)))}return this.checkType(e,t)}static checkType(e,t){return t instanceof this._NotType?!this.checkType(e,t.typeToExclude):t===this.Any||(t===this.NoReturn?void 0===e:null===t?null===e:void 0===t?void 0===e:t===String||t===Number||t===Boolean||t===Symbol||t===Function||t===BigInt?typeof e===t.name.toLowerCase():t===Object?"object"==typeof e&&null!==e&&!Array.isArray(e):t===Array?Array.isArray(e):t instanceof n?t.has(e?.name):t===i?e instanceof i:"function"==typeof t&&e instanceof t)}static typeNames(e){return Array.isArray(e)?e.map((e=>e?.name||o.stringify(e))).join(" | "):e?.name||o.stringify(e)}static stringify(e){if(null==e)return String(e);if("object"==typeof e){if("[object Object]"!==e?.toString())return String(e);if(e instanceof this._NotType)return`NotType(${o.stringify(e.typeToExclude)})`;try{const t=JSON.stringify(e,((e,t)=>{if(t&&"object"==typeof t){const e=Object.keys(t).length;if(e>5)return`Object with ${e} properties`}return t}),0);return void 0===t?"Object is too large to display or contains circular references":t.length>1e3?"Object is too large to display":t}catch(e){return`[オブジェクト表示エラー: ${e.message}]`}}return String(e)}static checkClass(e){if("function"!=typeof e)return!1;if(this._CLASS_REG.test(e.toString()))return!0;try{return new new Proxy(e,{construct:()=>({})}),!0}catch{return!1}}}t.exports=o},{"../base/Enum.js":1,"../libs/sys/JavaLibraryScriptCore.js":7}],6:[function(e,t,r){t.exports={TypeChecker:e("./TypeChecker.js"),sys:e("./sys")}},{"./TypeChecker.js":5,"./sys":8}],7:[function(e,t,r){const s=Symbol("JavaLibraryScript");t.exports=class{static[s]=!0}},{}],8:[function(e,t,r){t.exports={JavaLibraryScriptCore:e("./JavaLibraryScriptCore.js")}},{"./JavaLibraryScriptCore.js":7}],9:[function(e,t,r){const s=e("./index.js");"undefined"!=typeof window&&(window.JavaLibraryScript=s),t.exports=s},{"./index.js":4}],10:[function(e,t,r){const s=e("../base/Interface"),n=e("../libs/TypeChecker"),i=n.Any,o=n.NoReturn,a=[n.NotNull,n.NotUndefined];class c extends s{static methodTypes={put:{args:[a,a],returns:o},get:{args:[a],returns:i},remove:{args:[a],returns:Boolean},size:{returns:Number},isEmpty:{returns:Boolean},clear:{returns:o},containsKey:{args:[a],returns:Boolean},containsValue:{args:[a],returns:Boolean},keySet:{returns:Array},values:{returns:Array},entrySet:{returns:Array}};constructor(e,t){if(super(),new.target===c)throw new TypeError("Cannot instantiate abstract class BaseMap");this.KeyType=e,this.ValueType=t}_checkKey(e){if(!n.matchType(e,this.KeyType))throw new TypeError(`キー型が一致しません。期待: ${this.KeyType.name} → 実際: ${n.stringify(e)}`)}_checkValue(e){if(!n.matchType(e,this.ValueType))throw new TypeError(`値型が一致しません。期待: ${this.ValueType.name} → 実際: ${n.stringify(e)}`)}}t.exports=c},{"../base/Interface":2,"../libs/TypeChecker":5}],11:[function(e,t,r){const s=e("./BaseMap");t.exports=class extends s{constructor(e,t){super(e,t),this._data=new Map}put(e,t){this._checkKey(e),this._checkValue(t),this._data.set(e,t)}putAll(e){for(const[t,r]of e.entries())this.set(t,r)}get(e){return this._checkKey(e),this._data.get(e)}containsKey(e){return this._checkKey(e),this._data.has(e)}containsValue(e){for(const t of this.values())if(t===e)return!0;return!1}remove(e){return this._checkKey(e),this._data.delete(e)}size(){return this._data.size}isEmpty(){return 0===this._data.size}clear(){this._data.clear()}containsKey(e){return this._checkKey(e),this._data.has(e)}containsValue(e){for(const t of this._data.values())if(t===e)return!0;return!1}keySet(){return Array.from(this._data.keys())}values(){return Array.from(this._data.values())}entrySet(){return Array.from(this._data.entries())}equals(e){if(this.size!==e.size)return!1;for(const[t,r]of this.entries())if(!e.has(t)||e.get(t)!==r)return!1;return!0}toString(){return`{ ${Array.from(this.entries()).map((([e,t])=>`${e}=${t}`)).join(", ")} }`}}},{"./BaseMap":10}],12:[function(e,t,r){e("./BaseMap");const s=e("./HashMap");class n extends s{static defaultCompare(e,t){if("number"==typeof e&&"number"==typeof t)return e-t;if("string"==typeof e&&"string"==typeof t)return e.localeCompare(t);const r=String(e),s=String(t);return r>s?1:r<s?-1:0}static compareByProp(e,t=n.defaultCompare){return(r,s)=>t(r[e],s[e])}constructor(e,t,r=n.defaultCompare){super(e,t),this._compare=r,this._sortedKeys=null}_invalidateSortedKeys(){this._sortedKeys=null}_getSortedKeys(){return this._sortedKeys||(this._sortedKeys=Array.from(this.keys()).sort(this._compare)),this._sortedKeys}put(e,t){const r=this._data.has(e);super.put(e,t),r||this._invalidateSortedKeys()}remove(e){const t=super.remove(e);return t&&this._invalidateSortedKeys(),t}clear(){super.clear(),this._invalidateSortedKeys()}firstKey(){const e=this._getSortedKeys();return e.length>0?e[0]:void 0}lastKey(){const e=this._getSortedKeys();return e.length>0?e[e.length-1]:void 0}ceilingKey(e){return this._getSortedKeys().find((t=>this._compare(t,e)>=0))}floorKey(e){const t=this._getSortedKeys();for(let r=t.length-1;r>=0;r--)if(this._compare(t[r],e)<=0)return t[r]}headMap(e){const t=new n;for(const r of this._getSortedKeys()){if(this._compare(r,e)>=0)break;t.set(r,this.get(r))}return t}tailMap(e){const t=new n;for(const r of this._getSortedKeys())this._compare(r,e)>=0&&t.set(r,this.get(r));return t}subMap(e,t){const r=new n;for(const s of this._getSortedKeys()){if(this._compare(s,t)>=0)break;this._compare(s,e)>=0&&r.set(s,this.get(s))}return r}}t.exports=n},{"./BaseMap":10,"./HashMap":11}],13:[function(e,t,r){t.exports={BaseMap:e("./BaseMap.js"),HashMap:e("./HashMap.js"),TreeMap:e("./TreeMap.js")}},{"./BaseMap.js":10,"./HashMap.js":11,"./TreeMap.js":12}]},{},[9]);
//# sourceMappingURL=JavaLibraryScript.min.js.map